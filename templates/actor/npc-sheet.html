<form class="{{cssClass}} flexcol {{data.type}} {{data.creatureType}}" autocomplete="off">
    {{#if (ifvalue data.creatureType 'npc')}}
    <div class="overlay">
        <div class="flex column center flex-center pick-npc">
            <h2>{{localize 'MYZ.PICK_NPC_TYPE'}}</h2>
            <div class="grid grid-2col">
                <a class="crature-picker" data-creature="mutant">{{localize 'MYZ.MUTANT'}}</a>
                <a class="crature-picker" data-creature="animal">{{localize 'MYZ.ANIMAL'}}</a>
                <a class="crature-picker" data-creature="robot">{{localize 'MYZ.ROBOT'}}</a>
                <a class="crature-picker" data-creature="human">{{localize 'MYZ.HUMAN'}}</a>
            </div>
        </div>
    </div>
    {{/if}}

    <div class="actor-header {{data.type}}">
        <img class="profile-img" src="{{img}}" data-edit="img" title="{{name}}" />
        <div class="header-fields">
            <div class="npc-name-rank">
                <h1 class="charname npc-name" style="margin-top: 0px; margin-bottom: 10px">
                    <input name="name" type="text" value="{{name}}" placeholder="Name" />
                </h1>
                <div class="flex row npc-rank align-center">
                    <label for="data.rank">{{localize (toUpperCase (concat 'MYZ.RANK_FOR_' data.creatureType))}}:&nbsp;</label>
                    <input class="input-underline" type="text" placeholder="{{localize (toUpperCase (concat 'MYZ.RANK_FOR_' data.creatureType))}}" name="data.rank" value="{{data.rank}}" />
                </div>
            </div>
            <div class="flexrow">

                <div class="flex flex-center know-nature margin-right">
                    <input type="number" class="short-input" name="data.knowNature" value="{{data.knowNature}}">
                </div>

                <div class="flex column margin-right">
                    <div class="box-item armor-box flex row space-between align-center armor margin-bottom  {{data.creatureType}}">
                        <label class="item-name armor-roll rollable" for="data.armorrating.value">{{localize 'MYZ.ARMOR'}}</label>
                        <span class="right-element">
                            <div class="armor-roll" style="cursor:pointer; padding: 5px 0 0 0; text-align: center; width:22px; min-height:26px; background-image: url(systems/mutant-year-zero/ui/grey-shield.png); background-position: center; background-repeat: no-repeat;">{{data.armorrating.value}}</div>
                        </span>
                    </div>

                    <div class="box-item header flex row space-between align-center {{data.creatureType}}">
                        <label class="item-name" for="data.resource_points.value">{{localize (toUpperCase (concat "MYZ.RESOURCE_" "POINTS_" data.creatureType ))}}</label>
                        <span class="right-element">
                            <input class="short-input" type="number" name="data.resource_points.value" value="{{data.resource_points.value}}" />
                        </span>
                    </div>
                </div>

                <div class="flexcol space-between" style="padding:4px">
                    <button class="button-roll margin-bottom">{{localize 'MYZ.ROLL'}}</button>
                    <button class="button-push">{{localize 'MYZ.PUSH'}}</button>
                </div>
            </div>
        </div>
    </div>
    <div class="flex row" style="max-height: 65px">
        <div class="grid grid-4col align-center" style="width: 100%">
            <div class="flexcol flex-group-center">
                <label class="roll-attribute rollable" data-attribute="strength" style="margin-bottom: 5px"><strong>{{localize (toUpperCase (concat "MYZ.ATTRIBUTE_" "STRENGTH_" data.creatureType))}}</strong></label>
                <span>
                    <input type="number" name="data.attributes.strength.value" value="{{data.attributes.strength.value}}" class="short-input" />
                    <label>&nbsp;/&nbsp;</label>
                    <input type="number" name="data.attributes.strength.max" value="{{data.attributes.strength.max}}" class="short-input" />
                </span>
            </div>
            <div class="flexcol flex-group-center">
                <label class="roll-attribute rollable" data-attribute="agility" style="margin-bottom: 5px"><strong>{{localize (toUpperCase (concat "MYZ.ATTRIBUTE_" "AGILITY_" data.creatureType))}}</strong></label>
                <span>
                    <input type="number" name="data.attributes.agility.value" value="{{data.attributes.agility.value}}" class="short-input" />
                    <label>&nbsp;/&nbsp;</label>
                    <input type="number" name="data.attributes.agility.max" value="{{data.attributes.agility.max}}" class="short-input" />
                </span>
            </div>
            <div class="flexcol flex-group-center">
                <label class="roll-attribute rollable" data-attribute="wits" style="margin-bottom: 5px"><strong>{{localize (toUpperCase (concat "MYZ.ATTRIBUTE_" "WITS_" data.creatureType))}}</strong></label>
                <span>
                    <input type="number" name="data.attributes.wits.value" value="{{data.attributes.wits.value}}" class="short-input" />
                    <label>&nbsp;/&nbsp;</label>
                    <input type="number" name="data.attributes.wits.max" value="{{data.attributes.wits.max}}" class="short-input" />
                </span>
            </div>
            <div class="flexcol flex-group-center">
                <label class="roll-attribute rollable" data-attribute="empathy" style="margin-bottom: 5px"><strong>{{localize (toUpperCase (concat "MYZ.ATTRIBUTE_" "EMPATHY_" data.creatureType))}}</strong></label>
                <span>
                    <input type="number" name="data.attributes.empathy.value" value="{{data.attributes.empathy.value}}" class="short-input" />
                    <label>&nbsp;/&nbsp;</label>
                    <input type="number" name="data.attributes.empathy.max" value="{{data.attributes.empathy.max}}" class="short-input" />
                </span>
            </div>
        </div>
    </div>

    {{!-- Sheet Tab Navigation --}}
    <nav class="sheet-tabs tabs" data-group="primary">
        <a class="item" data-tab="attributes">{{localize "MYZ.ATTRIBUTES"}}</a>
        <a class="item" data-tab="gear">{{localize "MYZ.GEAR"}}</a>
        <a class="item" data-tab="info">{{localize "MYZ.INFO"}}</a>
    </nav>

    <div class="sheet-body">
        {{!-- Attributes Tab --}}
        <div class="tab" data-group="primary" data-tab="attributes">
            <div class="grid grid-2col">
                <div>{{!-- Skills --}} {{> systems/mutant-year-zero/templates/actor/partials/skills.html fixedHeight='fixed-height'}}</div>
                <div>
                    {{!-- Abilities --}} {{> systems/mutant-year-zero/templates/actor/partials/abilities.html sourceType='ability' sourceList=abilities
                    sourceLabel='MYZ.ABILITIES' fixedHeight='fixed-height'}}
                </div>
                <div>
                    {{!-- Talents --}} {{> systems/mutant-year-zero/templates/actor/partials/talents.html sourceType='talent' sourceList=talents
                    sourceLabel='MYZ.TALENTS' fixedHeight='fixed-height'}}
                </div>
                <div>
                    {{#ifCond data.creatureType '==' 'robot'}}
                    {{> systems/mutant-year-zero/templates/actor/partials/special.html}}
                    {{/ifCond}}

                    {{#ifCond data.creatureType '!==' 'robot'}}
                    {{> systems/mutant-year-zero/templates/actor/partials/criticals.html fixedHeight='fixed-height'}}
                    {{/ifCond}}

                    <!-- <div class="box-item header flex row align-center {{data.creatureType}}">
                        <label class="item-name">{{localize 'MYZ.SPECIAL'}}</label>
                    </div>
                    <div class="box-list {{data.creatureType}} fixed-height">
                        <textarea name="data.special">{{data.special}}</textarea>
                    </div> -->
                </div>
            </div>
        </div>

        {{!-- Gear Tab --}}
        <div class="tab" data-group="primary" data-tab="gear">
            {{> systems/mutant-year-zero/templates/actor/partials/weapons.html}} 
            {{#if (ifvalue data.creatureType 'robot')}} 
            {{> systems/mutant-year-zero/templates/actor/partials/chassis-1row.html}}
            {{/if}} 
            {{#unless (ifvalue data.creatureType 'robot')}} 
            {{> systems/mutant-year-zero/templates/actor/partials/armors.html}}
            {{/unless}}
        </div>

        {{!-- Info Tab --}}
        <div class="tab" data-group="primary" data-tab="info">
            {{editor content=data.description target="data.description" button=true owner=owner editable=true}}
        </div>
    </div>
</form>